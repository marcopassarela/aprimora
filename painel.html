<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Sora:wght@100..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/frontend/src/styles/painel.css">
    <title>Aprimora</title>
</head>
<body>
    <header>
        <a href="/" class="title animated" data-i18n="title">Aprimora</a>
        <div id="menu">
            <input type="checkbox" id="menu-toggle" class="menu-toggle">
            <label for="menu-toggle" class="hamburger animated">
                <span class="bar top"></span>
                <span class="bar middle"></span>
                <span class="bar bottom"></span>
            </label>
            <ul class="animated">
                <li><a href="/" data-i18n="home" class="home">Inicio</a></li>
                <li><a href="#paraEscola" data-i18n="about" class="about">Sobre</a></li>
                <li><a href="#form" data-i18n="contact" class="contact">Contato</a></li>
            </ul>
        </div>

        <div id="languageModal" class="modal">
            <div class="modal-content">
                <span class="close" id="closeModal">×</span>
                <h2>Escolha o Idioma</h2>
                <p>Essa configuração atualiza o que você lê.</p>
                <div class="language-grid">
                    <ul>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('pt-BR')"><span class="preview">Português</span><span class="variant">Brasil</span></a></li>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('pt-PT')"><span class="preview">Português</span><span class="variant">Portugal</span></a></li>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('es')"><span class="preview">Español</span><span class="variant">Espanhol</span></a></li>
                    </ul>
                    <ul>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('en')"><span class="preview">English</span><span class="variant">Inglês</span></a></li>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('it')"><span class="preview">Italian</span><span class="variant">Italiano</span></a></li>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('fr')"><span class="preview">Français</span><span class="variant">Francês</span></a></li>
                    </ul>
                    <ul>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('ar-MA')"><span class="preview">العربية</span><span class="variant">Árabe (Marrocos)</span></a></li>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('ar-SA')"><span class="preview">العربية</span><span class="variant">Árabe (Arábia Saudita)</span></a></li>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('ar-EG')"><span class="preview">العربية</span><span class="variant">Árabe (Egípcio)</span></a></li>
                    </ul>
                    <ul>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('ja')"><span class="preview">日本語</span><span class="variant">Japonês</span></a></li>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('zh')"><span class="preview">中文</span><span class="variant">Chinês</span></a></li>
                        <li class="grid"><a href="javascript:void(0);" onclick="changeLanguage('ru')"><span class="preview">Русский</span><span class="variant">Russo</span></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>

    <div id="tabela-container" class="animated">
        <h2>Horários das Atividades</h2>
        <table id="tabela-desktop">
            <thead>
                <tr>
                    <th>Horário</th>
                    <th>Segunda</th>
                    <th>Terça</th>
                    <th>Quarta</th>
                    <th>Quinta</th>
                    <th>Sexta</th>
                    <th>Sábado</th>
                    <th>Domingo</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>08:00 - 09:00</td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                </tr>
                <!-- Demais linhas mantidas, abreviadas aqui -->
                <tr>
                    <td>09:00 - 10:00</td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                    <td><textarea></textarea></td>
                </tr>
                <!-- ... até 21:00 - 22:00 -->
            </tbody>
        </table>

        <div id="tabela-mobile">
            <div class="dia-container">
                <h4>Segunda-feira</h4>
                <div class="input-wrapper"><label>08:00 - 09:00</label><textarea></textarea></div>
                <!-- Demais horários e dias mantidos -->
            </div>
            <!-- ... outros dias -->
        </div>

        <button onclick="salvarDados()">Gravar</button>
    </div>

    <script>
        console.log('Carregando painel.html');

        const token = localStorage.getItem('token');
        if (!token) {
            console.log('Nenhum token, redirecionando para /login.html');
            window.location.href = '/login.html';
        }

        function logout() {
            console.log('Logout');
            localStorage.removeItem('token');
            window.location.href = '/login.html';
        }

        window.onload = function () {
            console.log('Carregando dados salvos');
            const dadosSalvos = JSON.parse(localStorage.getItem('horarios'));
            if (dadosSalvos) {
                const inputs = document.querySelectorAll('tbody textarea');
                inputs.forEach((input, index) => {
                    input.value = dadosSalvos[index] || '';
                });
            }
        };

        function salvarDados() {
            console.log('Salvando dados');
            const inputs = document.querySelectorAll('tbody textarea');
            const valores = Array.from(inputs).map(input => input.value);
            localStorage.setItem('horarios', JSON.stringify(valores));
            alert('Dados salvos com sucesso!');
        }
    </script>

    <script src="/frontend/src/utils/index.js"></script>
</body>
</html>